export count() {
       return int(argv[1]) || 100;
}

export data_file() {
       parts := basename(argv[0]) ~~~ #^test-([a-z]+)-(.+)\.ici#;
       if (len(parts) != 2) {
           fail("failed to split argv[0]: " + typeof(parts) + " : " + string(len(parts)));
       }
       filename := "test-" + parts[1] + ".dat";
       // printf(stderr, "data file: %s\n", filename);
       return filename;
}

export floateq(a, b) {
    return abs(b - a) < 1e-16;
}

export failure() {
    var vargs = [array];
    fail(call(sprintf, vargs));
}
