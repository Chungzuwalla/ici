file := fopen(test.data_file());
o := restore(file);
close(file);
if (typeof(o) != "func") {
    fail("restore failed: restored a " + typeof(o));
}
b := o("/path/to/file");
if (b != "file") {
    test.failure("basename failed to restore");
}
