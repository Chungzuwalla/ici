local epsilon = 0.000001;

local floateq(a, b) {
    d := abs(a - b);
    return d < epsilon;
}

file = fopen("test-save-float.ici.dat");
o = restore(file);
close(file);
if (typeof(o) != "float")
    fail("restore failed: restored a " + typeof(o));
if (!testutil.floateq(o, 3.1415))
    fail("restore failed: restored an float with value " + string(o));
